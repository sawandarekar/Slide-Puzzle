<html>

<head>
<meta http-equiv="Content-Language" content="en-us">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<title>Puzzle</title>
<script type="text/javascript">
// img_src : clicked image source
var random_series = new Array();
/*
function Get_Index returns index of clicked image
*/
function Get_Index(img_src)
{
 var i =0;
 for(i = 0; i < document.images.length; i++)
 {
   if(img_src == document.images[i].src)
     return i;
 }
}
/*
  first_src : first image source
  second_src : second image source
  first_index : first image source index
  second_index : second image source index
*/
function Swap_Image(first_src,second_src,first_index,second_index)
{
  document.images[first_index].src = second_src;
  document.images[second_index].src = first_src;
  if(Check_Series())
    alert("You win Game Completed");
}
/*
to check image neighbours
whether it is blank or other
if yes return that index
if no return -1
*/
function Check_Blank_Neighbour()
{
  var argv = Check_Blank_Neighbour.arguments;
  var argc = argv.length;
  var blank_index = -1;
  var txt_2_find = "16.jpg";
  for (var i = 0; i < argc; i++) 
  {
    var args_index = argv[i];

	var main_txt = document.images[args_index].src
	var result = main_txt.search(txt_2_find);
	if(result != -1)
	{
        blank_index = args_index;        	    
	}
  }   
  return blank_index;
}

function Image_Clicked(n)
{  
  var img = document.getElementById(n).src;
  var clicked_index = Get_Index(img);
  var txt_2_find = "16.jpg";
  var main_txt = document.images[clicked_index].src;
  var result = main_txt.search(txt_2_find);
  if(result != -1)
  {
    return;
  }

  switch(clicked_index)
  {
    case 0:           
           var blank_index = Check_Blank_Neighbour(1,4);
           if(blank_index == -1)
               break;   
           var cl_src = document.images[clicked_index].src;
           var bl_src = document.images[blank_index].src;
           Swap_Image(cl_src,bl_src,clicked_index,blank_index);      
           break;
    case 1:
           var blank_index = Check_Blank_Neighbour(0,2,5);
           if(blank_index == -1)
               break;   
           var cl_src = document.images[clicked_index].src;
           var bl_src = document.images[blank_index].src;
           Swap_Image(cl_src,bl_src,clicked_index,blank_index);      
           break;
    case 2:
		   var blank_index = Check_Blank_Neighbour(1,3,6);
           if(blank_index == -1)
               break;   
           var cl_src = document.images[clicked_index].src;
           var bl_src = document.images[blank_index].src;
           Swap_Image(cl_src,bl_src,clicked_index,blank_index);      
           break;
    case 3:
           var blank_index = Check_Blank_Neighbour(2,7);
           if(blank_index == -1)
               break;     
           var cl_src = document.images[clicked_index].src;
           var bl_src = document.images[blank_index].src;
           Swap_Image(cl_src,bl_src,clicked_index,blank_index);      
           break;
    case 4:
           var blank_index = Check_Blank_Neighbour(0,5,8);
           if(blank_index == -1)
               break;  
           var cl_src = document.images[clicked_index].src;
           var bl_src = document.images[blank_index].src;
           Swap_Image(cl_src,bl_src,clicked_index,blank_index);      
           break;
    case 5:
           var blank_index = Check_Blank_Neighbour(1,4,6,9);
           if(blank_index == -1)
               break;      
           var cl_src = document.images[clicked_index].src;
           var bl_src = document.images[blank_index].src;
           Swap_Image(cl_src,bl_src,clicked_index,blank_index);       
           break;
    case 6:
           var blank_index = Check_Blank_Neighbour(2,5,7,10);
           if(blank_index == -1)
               break;
           var cl_src = document.images[clicked_index].src;
           var bl_src = document.images[blank_index].src;
           Swap_Image(cl_src,bl_src,clicked_index,blank_index);        
           break;
    case 7:
           var blank_index = Check_Blank_Neighbour(3,6,11);
           if(blank_index == -1)
               break;
           var cl_src = document.images[clicked_index].src;
           var bl_src = document.images[blank_index].src;
           Swap_Image(cl_src,bl_src,clicked_index,blank_index);              
           break;
    case 8:
           var blank_index = Check_Blank_Neighbour(4,9,12);
           if(blank_index == -1)
               break;
           var cl_src = document.images[clicked_index].src;
           var bl_src = document.images[blank_index].src;
           Swap_Image(cl_src,bl_src,clicked_index,blank_index);         
           break;
    case 9:
           var blank_index = Check_Blank_Neighbour(5,8,10,13);
           if(blank_index == -1)
               break;
           var cl_src = document.images[clicked_index].src;
           var bl_src = document.images[blank_index].src;
           Swap_Image(cl_src,bl_src,clicked_index,blank_index);        
           break;
    case 10:
           var blank_index = Check_Blank_Neighbour(6,9,11,14);
           if(blank_index == -1)
               break; 
           var cl_src = document.images[clicked_index].src;
           var bl_src = document.images[blank_index].src;
           Swap_Image(cl_src,bl_src,clicked_index,blank_index);      
           break;
    case 11:
           var blank_index = Check_Blank_Neighbour(7,10,15);
           if(blank_index == -1)
               break;   
           var cl_src = document.images[clicked_index].src;
           var bl_src = document.images[blank_index].src;
           Swap_Image(cl_src,bl_src,clicked_index,blank_index);      
           break;
    case 12:
           var blank_index = Check_Blank_Neighbour(8,13);
           if(blank_index == -1)
               break;   
           var cl_src = document.images[clicked_index].src;
           var bl_src = document.images[blank_index].src;
           Swap_Image(cl_src,bl_src,clicked_index,blank_index);      
           break;
    case 13:
           var blank_index = Check_Blank_Neighbour(9,12,14);
           if(blank_index == -1)
               break;   
           var cl_src = document.images[clicked_index].src;
           var bl_src = document.images[blank_index].src;
           Swap_Image(cl_src,bl_src,clicked_index,blank_index);        
           break;
    case 14:
           var blank_index = Check_Blank_Neighbour(10,13,15);
           if(blank_index == -1)
               break;
           var cl_src = document.images[clicked_index].src;
           var bl_src = document.images[blank_index].src;
           Swap_Image(cl_src,bl_src,clicked_index,blank_index);               
           break;
    case 15:
           var blank_index = Check_Blank_Neighbour(11,14);
           if(blank_index == -1)
               break;
           var cl_src = document.images[clicked_index].src;
           var bl_src = document.images[blank_index].src;
           if(bl_src != -1)
              Swap_Image(cl_src,bl_src,clicked_index,blank_index);               
           break;
  } 
}
function Check_Series()
{
  var i =0;
  var status = false;
  for(i = 0; i < document.images.length; i++)
  {
    main_txt = document.images[i].src; 
    switch(i)
    {
      case 0: var txt_2_find = "1.jpg";
			  var result = main_txt.search(txt_2_find);
			  if(result != -1)
			  {  
			     status = true;
			  }
			  else
			  {   
			     status = false;
			  }
     		  break; 
             		    
      case 1: var txt_2_find = "2.jpg";
			  var result = main_txt.search(txt_2_find);
			  if(result != -1)
			  {
			     status = true;
			  }
			  else
			  {  
			     status = false;
			  }
     		  break; 
			
     case 2:  var txt_2_find = "3.jpg";
			  var result = main_txt.search(txt_2_find);
			  if(result != -1)
			  {  
			     status = true;
			  }
			  else
			  {  
			     status = false;
			  }
     		  break; 
	  case 3: var txt_2_find = "4.jpg";
			  var result = main_txt.search(txt_2_find);
			  if(result != -1)
			  {
			     status = true;
			  }
			  else
			  {
			     status = false;
			  }
     		  break; 
	  case 4: var txt_2_find = "5.jpg";
			  var result = main_txt.search(txt_2_find);
			  if(result != -1)
			  {  
			     status = true;
			  }
			  else
			  {  
			     status = false;
			  }
     		  break; 
      case 5: var txt_2_find = "6.jpg";
			  var result = main_txt.search(txt_2_find);
			  if(result != -1)
			  { 
			     status = true;
			  }
			  else
			  {
			     status = false;
			  }
     		  break; 
	  case 6: var txt_2_find = "7.jpg";
			  var result = main_txt.search(txt_2_find);
			  if(result != -1)
			  { 
			     status = true;
			  }
			  else
			  {   
			     status = false;
			  }
     		  break; 
  
	  case 7: var txt_2_find = "8.jpg";
			  var result = main_txt.search(txt_2_find);
			  if(result != -1)
			  { 
			     status = true;
			  }
			  else
			  {   
			     status = false;
			  }
     		  break; 
	  case 8: var txt_2_find = "9.jpg";
			  var result = main_txt.search(txt_2_find);
			  if(result != -1)
			  { 
			     status = true;
			  }
			  else
			  {  
			     status = false;
			  }
     		  break; 
	  case 9: var txt_2_find = "10.jpg";
			  var result = main_txt.search(txt_2_find);
			  if(result != -1)
			  { 
			     status = true;
			  }
			  else
			  {  
			     status = false;
			  }
     		  break; 
	  case 10: var txt_2_find = "11.jpg";
			  var result = main_txt.search(txt_2_find);
			  if(result != -1)
			  {
			     status = true;
			  }
			  else
			  { 
			     status = false;
			  }
     		  break; 
	  case 11: var txt_2_find = "12.jpg";
			  var result = main_txt.search(txt_2_find);
			  if(result != -1)
			  {  
			     status = true;
			  }
			  else
			  { 
			     status = false;
			  }
     		  break; 
 
      case 12: var txt_2_find = "13.jpg";
			  var result = main_txt.search(txt_2_find);
			  if(result != -1)
			  {  
			     status = true;
			  }
			  else
			  {   
			     status = false;
			  }
     		  break; 
      case 13: var txt_2_find = "14.jpg";
			  var result = main_txt.search(txt_2_find);
			  if(result != -1)
			  { 
			     status = true;
			  }
			  else
			  {  
			     status = false;
			  }
     		  break; 
	  case 14: var txt_2_find = "15.jpg";
			  var result = main_txt.search(txt_2_find);
			  if(result != -1)
			  { 
			     status = true;
			  }
			  else
			  {   
			     status = false;
			  }
     		  break; 
	  case 15: var txt_2_find = "16.jpg";
			  var result = main_txt.search(txt_2_find);
			  if(result != -1)
			  { 
			     status = true;
			  }
			  else
			  { 
			     status = false;
			  }
     		  break;  	  
    }
    if(status == true )
   	   continue;
   	else		
    {  
       break;        
     }    
  }
  return status;
}
function Generate_Random_Series()
{ 
 var i = 0;
 var position = 0;
 while(random_series.length != 16)
 {  
   var random_num=Math.floor(Math.random()*16);    
   var found = false;
   if(random_series.length == 0)
       random_series[position++] = random_num;
   for(i = 0; i < random_series.length; i++)
   {
     
     if(random_num == random_series[i])
     {
       found = true;
       
       break;
     }
   }  
   
   if(found == false)
   {
     random_series[position++] = random_num; 
   }
 }
}
function Shuffle()
{
  Generate_Random_Series();
  var i = 0;
  var new_series_src = new Array();
  for(i = 0; i < random_series.length; i++)
  {
    new_series_src[i] = document.images[random_series[i]].src;
  }
  for(i = 0; i < document.images.length; i++)
  {
    document.images[i].src = new_series_src[i];
  } 
}


</script>
</head>

<body background="puzzle/back.jpg">

<p align="center"><font face="Verdana" size="4" color="#587EEF">Puzzle</font></p>

<table border="0" width="" align="center">
	<tr>
		<td align="center"><input type="button" value="New Game" name="B5" onclick="Shuffle()"></td>
		<td align="center"><input type="button" value="Reset" name="B4" onclick="window.location.reload()"></td>
	</tr>
	<tr>
	<td colspan="2">
	Arrange these numbers in correct order
	</td>
	</tr>
</table>

<table id="puzzle" border="0" bordercolor="#6666FF" cellspacing="2" align="center">
	<tr>
		<td align="center">
		<img id="1" border="0" src="puzzle/1.jpg" width="100" height="100" onclick="Image_Clicked('1')"></td>
		<td align="center">
		<img id="2" border="0" src="puzzle/2.jpg" width="100" height="100" onclick="Image_Clicked('2')"></td>
		<td align="center">
		<img id="3" border="0" src="puzzle/3.jpg" width="100" height="100" onclick="Image_Clicked('3')"></td>
		<td align="center">
		<img id="4" border="0" src="puzzle/4.jpg" width="100" height="100" onclick="Image_Clicked('4')"></td>
	</tr>
	<tr>
		<td align="center">
		<img id="5" border="0" src="puzzle/5.jpg" width="100" height="100" onclick="Image_Clicked('5')"></td>
		<td align="center">
		<img id="6" border="0" src="puzzle/6.jpg" width="100" height="100" onclick="Image_Clicked('6')"></td>
		<td align="center">
		<img id="7" border="0" src="puzzle/7.jpg" width="100" height="100" onclick="Image_Clicked('7')"></td>
		<td align="center">
		<img id="8" border="0" src="puzzle/8.jpg" width="100" height="100" onclick="Image_Clicked('8')"></td>
	</tr>
	<tr>
		<td align="center">
		<img id="9" border="0" src="puzzle/9.jpg" width="100" height="100" onclick="Image_Clicked('9')"></td>
		<td align="center">
		<img id="10" border="0" src="puzzle/10.jpg" width="100" height="100" onclick="Image_Clicked('10')"></td>
		<td align="center">
		<img id="11" border="0" src="puzzle/11.jpg" width="100" height="100" onclick="Image_Clicked('11')"></td>
		<td align="center">
		<img id="12" border="0" src="puzzle/12.jpg" width="100" height="100" onclick="Image_Clicked('12')"></td>
	</tr>
	<tr>
		<td align="center">
		<img id="13" border="0" src="puzzle/13.jpg" width="100" height="100" onclick="Image_Clicked('13')"></td>
		<td align="center">
		<img id="14" border="0" src="puzzle/14.jpg" width="100" height="100" onclick="Image_Clicked('14')"></td>
		<td align="center">
		<img id="15" border="0" src="puzzle/15.jpg" width="100" height="100" onclick="Image_Clicked('15')"></td>
		<td align="center">
		<img id="16" border="0" src="puzzle/16.jpg" width="100" height="100" onclick="Image_Clicked('16')"></td>
	</tr>
</table>

</body>

</html>